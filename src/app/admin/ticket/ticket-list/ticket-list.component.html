<!-- start page title -->
<div class="row mb-3">
    <div class="d-flex align-items-start">
        <ol class="breadcrumb m-0">
            <li class="breadcrumb-item">หน้าหลัก</li>
            <li class="breadcrumb-item active">แจ้งซ่อม</li>
        </ol>
    </div>
</div>

<!-- end page title -->

<!-- Start row -->
<div class="row">
    <div class="">
        <div class="card card-green-style">
            <div class="p-3 px-4 bg-success">
                <div class="d-flex align-items-start">
                    <!-- <div class="align-self-center me-3">
                    <img src="assets/images/users/avatar-4.jpg" class="avatar-xs rounded-circle" alt="avatar" />
                  </div> -->
                    <div class="flex-1 align-self-center">
                        <h5 class="title-card font-size-16 mt-1 mb-0">
                            <a href="#" class="text-reset">แจ้งซ่อม</a>
                        </h5>
                        <!-- <p class="text-muted mb-0 font-size-12">ร้านค้าพาร์ทเนอร์ทั้งหมด</p> -->
                    </div>

                    <div class="button-items">
                        <button routerLink="/ticket-add" routerLinkActive="active"
                            class="btn btn-outline-success btn-rounded float-right">
                            <i class="bx bx-user-plus"></i> เพิ่มรายการ
                        </button>
                    </div>
                </div>
            </div>

            <div class="card-content">
                <div class="row">
                    <div class="position-relative">
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table align-middle mb-0">
                                        <thead>
                                            <tr>
                                                <th>หมายเลข</th>
                                                <th>วันที่</th>
                                                <th>เรื่องแจ้ง</th>
                                                <th>รายละเอียด</th>
                                                <th>ประเภท</th>
                                                <th>ผู้รับแจ้ง</th>
                                                <th>CURRENT_HANDLER</th>
                                                <th>สถานะ</th>
                                                <th>กำหนดเสร็จ</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let ticket of ticket">
                                                <th>{{ticket.TICKET_ID}}</th>
                                                <th>{{ticket.CREATE_DATE}}</th>
                                                <td>{{ticket.HEADLINE}}</td>
                                                <td>{{ticket.DETAIL}}</td>
                                                <th>{{ticket.CATEGORY}}</th>
                                                <th>{{ticket.OPENER_USER_ID}}</th>
                                                <td>{{ticket.CURRENT_HANDLER_USER_ID}}</td>
                                                <td>{{ticket.STATUS}}</td>
                                                <td>{{ticket.DUE_DATE}}</td>
                                                <td>
                                                    <div class="button-items">
                                                        <button type="button"
                                                            class="btn btn-action"
                                                            routerLink="/ticket/ticket-view/"
                                                            routerLinkActive="active">
                                                            <i class="bx bxs-show"></i>
                                                        </button>
                                                        <button type="button"
                                                            class="btn btn-action"
                                                            routerLink="/ticket-edit/{{ticket.id}}" 
                                                            routerLinkActive="active">
                                                            <i class="bx bxs-pencil"></i>
                                                        </button>
                                                        <button type="button"
                                                            class="btn btn-action"
                                                            id="sa-warning">
                                                            <i class="bx bxs-trash" (click)="confirm(ticket.id)"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end row -->
<!--   
  <div class="preview-backdrop" (click)="onClosePreview()" *ngIf="show_preview"></div>
  <div class="preview-action" [class.show]="show_preview">
    <app-preview-qa [item]="item" (onClose)="onClose($event)" (onEdit)="onEditPreview($event)" (onDelete)="onDeleteItem($event)"></app-preview-qa>
  </div> -->