<!-- start page title -->
<div class="row mb-3">
    <div class="d-flex align-items-start">
        <ol class="breadcrumb m-0">
            <li class="breadcrumb-item">หน้าหลัก</li>
            <li class="breadcrumb-item active">การเติมเงิน</li>
        </ol>
    </div>
</div>

<!-- end page title -->

<!-- Start row -->
<div class="row">
    <div class="">
        <div class="card card-green-style">
            <div class="p-3 px-4 bg-success">
                <div class="d-flex align-items-start">
                    <!-- <div class="align-self-center me-3">
                    <img src="assets/images/users/avatar-4.jpg" class="avatar-xs rounded-circle" alt="avatar" />
                  </div> -->
                    <div class="flex-1 align-self-center">
                        <h5 class="title-card font-size-16 mb-0">
                            <a href="#" class="text-reset">การเติมเงิน</a>
                        </h5>
                        <!-- <p class="text-muted mb-0 font-size-12">ร้านค้าพาร์ทเนอร์ทั้งหมด</p> -->
                    </div>

                    <div class="button-items">
                        <button class="btn btn-outline-success btn-rounded float-right" (click)="printModal(print)">
                            <i class="bx bxs-printer"></i> Print Report
                        </button>
                    </div>
                </div>
            </div>

            <div class="card-content">
                <div class="row">
                    <div class="position-relative">
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table align-middle mb-0">
                                        <thead>
                                            <tr>
                                                <th>วันที่</th>
                                                <th>ผู้ใช้งาน</th>
                                                <th>ต้องการชำระ</th>
                                                <th>สถานะ</th>
                                                <th>แอคชั่น</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let topup of topups">
                                                <th scope="row">{{topup.createdAt}}</th>
                                                <th>{{topup.custName}}</th>
                                                <td>{{topup.topupMoney | number}}</td>
                                                <td>
                                                    <span
                                                        class="badge badge-soft-danger ms-1">{{topup.statusName}}</span>
                                                </td>
                                                <td>
                                                    <div class="button-items">
                                                        <button type="button" class="btn btn-warning w-md" (click)="topupModal(topup)">รับเงิน</button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

 <!-- Topup Modal -->
 <ng-template #topup let-modal>
    <div class="modal-header">
        <h5 class="modal-title mt-0">รับเงิน</h5>
        <button type="button" class="btn-close" (click)="modal.dismiss('Cross click')" aria-hidden="true"></button>
    </div>
    <div class="modal-body">
        <div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-12">
                        <p class="card-title-desc">ได้รับชำระเงินตามยอดที่ร้านค้ากำหนด เรียบร้อยแล้ว
                        </p>
                        <form class="form-floating mb-3">
                            <input class="form-control form-control-lg" type="number" value="0" placeholder="จำนวนเงินที่รับชำระ"
                                id="example-number-input">
                            <!-- <label for="floatingInputValue">หัวข้อ</label> -->
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="modal.close('Close click')">ยกเลิก</button>
        <button type="button" class="btn btn-primary">รับเงิน</button>
    </div>
</ng-template>
<!-- end row -->

 <!-- Topup Modal -->
 <ng-template #print let-modal>
    <div class="modal-header">
        <h5 class="modal-title mt-0">Print Report</h5>
        <button type="button" class="btn-close" (click)="modal.dismiss('Cross click')" aria-hidden="true"></button>
    </div>
    <div class="modal-body">
        <div>
            <div class="card-body">
                <div class="row">
                    <div class="col-lg-12">
                        <p class="card-title-desc">เลือกช่วงวันที่ต้องการปริ้นรายงาน (.csv)
                        </p>
                        <form class="form-floating mb-3">
                            <!-- <input class="form-control" type="date" value="2022-08-03" id="example-date-input"> -->
                            <!-- <label for="floatingInputValue">หัวข้อ</label> -->
                            <div class="mb-3">
                                <!-- <label class="form-label">Range</label> -->
                                <input class="form-control flatpickr-input" type="text" mwlFlatpickr mode="range" [(ngModel)]="reportDate" name="reportD
                                ">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="modal.close('Close click')">ยกเลิก</button>
        <button type="button" class="btn btn-primary" (click)="dowloadCsv()">ปริ้นรายงาน (.csv)</button>
    </div>
</ng-template>
<!-- end row -->
<!--   
  <div class="preview-backdrop" (click)="onClosePreview()" *ngIf="show_preview"></div>
  <div class="preview-action" [class.show]="show_preview">
    <app-preview-qa [item]="item" (onClose)="onClose($event)" (onEdit)="onEditPreview($event)" (onDelete)="onDeleteItem($event)"></app-preview-qa>
  </div> -->